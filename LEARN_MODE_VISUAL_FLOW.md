# Learn Mode - Visual Flow Diagram 🎯

## 📊 Complete User Journey

```
┌─────────────────────────────────────────────────────────────────┐
│                     TODAY PAGE                                  │
│                 Click "Start Session"                           │
└─────────────────────┬───────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────┐
│                  INTRO FLOW (6 Slides)                          │
│  • Welcome to Learn Mode                                        │
│  • Step 1: Listen & Shadow                                      │
│  • Step 2: Read & Recite                                        │
│  • Step 3: Recall from Memory                                   │
│  • Building Your Foundation                                     │
│  • Ready to Begin?                                              │
│                                                                 │
│  [Skip Intro]                    [Next] → [Start Learning]     │
└─────────────────────┬───────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────┐
│              🆕 ĀYAH INTRODUCTION                               │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │  New Āyah                                                  │ │
│  │  Take a moment to familiarize yourself with this āyah     │ │
│  │                                                            │ │
│  │  ┌─────────────────────────────────────────────────┐      │ │
│  │  │   قُلْ هُوَ ٱللَّهُ أَحَدٌ                          │      │ │
│  │  │   qul huwa llāhu aḥad                           │      │ │
│  │  └─────────────────────────────────────────────────┘      │ │
│  │                                                            │ │
│  │  ┌─────────┐  ┌──────────┐                               │ │
│  │  │ 4 Words │  │ 112:1    │                               │ │
│  │  └─────────┘  └──────────┘                               │ │
│  │                                                            │ │
│  │  You'll master this through 3 stages...                   │ │
│  │                                                            │ │
│  │         [Start Learning]  [Skip to next āyah]             │ │
│  └───────────────────────────────────────────────────────────┘ │
└─────────────────────┬───────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────┐
│              STAGE 1: LISTEN & SHADOW                           │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │  ● ─ ○ ─ ○    Listen & Shadow                            │ │
│  │                                                            │ │
│  │  ┌─────────────────────────────────────────────────┐      │ │
│  │  │ 🔵 Press SPACE to begin                          │      │ │
│  │  │                                                  │      │ │
│  │  │   قُلْ هُوَ ٱللَّهُ أَحَدٌ                          │      │ │
│  │  │   qul huwa llāhu aḥad                           │      │ │
│  │  │                                                  │      │ │
│  │  │   [Play & Repeat]                               │      │ │
│  │  └─────────────────────────────────────────────────┘      │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  User presses SPACE → Audio plays → Auto-records               │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │  Progress: ████████░░░░░░░░░░░  40%                       │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  User presses SPACE again → Repeats until 100%                 │
└─────────────────────┬───────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────┐
│          🎉 ENCOURAGEMENT ANIMATION (2 seconds)                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │                                                            │ │
│  │                                                            │ │
│  │              Mashallah! 🌟                                 │ │
│  │         (huge, animated, pulsing)                          │ │
│  │                                                            │ │
│  │         Moving to next stage...                            │ │
│  │                                                            │ │
│  └───────────────────────────────────────────────────────────┘ │
└─────────────────────┬───────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────┐
│              STAGE 2: READ & RECITE                             │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │  ✓ ─ ● ─ ○    Read & Recite                              │ │
│  │                                                            │ │
│  │  ┌─────────────────────────────────────────────────┐      │ │
│  │  │ 🟢 Press SPACE to recite                         │      │ │
│  │  │                                                  │      │ │
│  │  │   قُلْ هُوَ ٱللَّهُ أَحَدٌ                          │      │ │
│  │  │   qul huwa llāhu aḥad                           │      │ │
│  │  └─────────────────────────────────────────────────┘      │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  User presses SPACE → Records → Validates → Adds progress      │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │  Progress: ███████████████░░░░░  70%                       │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  User presses SPACE again → Repeats until 100%                 │
└─────────────────────┬───────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────┐
│          🎉 ENCOURAGEMENT ANIMATION (2 seconds)                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │                                                            │ │
│  │                                                            │ │
│  │              Keep it up! 💪                                │ │
│  │         (huge, animated, pulsing)                          │ │
│  │                                                            │ │
│  │         Moving to next stage...                            │ │
│  │                                                            │ │
│  └───────────────────────────────────────────────────────────┘ │
└─────────────────────┬───────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────┐
│              STAGE 3: RECALL FROM MEMORY                        │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │  ✓ ─ ✓ ─ ●    Recall from Memory                         │ │
│  │                                                            │ │
│  │  ┌─────────────────────────────────────────────────┐      │ │
│  │  │ 🟡 Press SPACE to recite from memory             │      │ │
│  │  │                                                  │      │ │
│  │  │   قُلْ هُوَ [invisible] [invisible]                │      │ │
│  │  │                                                  │      │ │
│  │  │   Words appear as you recite them                │      │ │
│  │  │   2 / 4 words revealed                           │      │ │
│  │  └─────────────────────────────────────────────────┘      │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  User presses SPACE → Records → Words appear → Adds progress   │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │  Progress: ████████████████████  90%                       │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  User presses SPACE again → Repeats until 100%                 │
└─────────────────────┬───────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────┐
│          🎉 ĀYAH MASTERED! (2 seconds)                          │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │                                                            │ │
│  │                                                            │ │
│  │         Excellent progress! ✨                              │ │
│  │         (huge, animated, pulsing)                          │ │
│  │                                                            │ │
│  │         Moving to next āyah...                             │ │
│  │                                                            │ │
│  └───────────────────────────────────────────────────────────┘ │
└─────────────────────┬───────────────────────────────────────────┘
                      │
                      ▼
            Return to Āyah Introduction
              (for next āyah)
```

## 🎮 Spacebar Flow Details

### Listen & Shadow Stage
```
Press SPACE
    ↓
[Audio Playing] 🔵
    ↓
Audio finishes (automatic)
    ↓
[Recording] 🟢
    ↓
User recites
    ↓
Recording stops (automatic)
    ↓
System validates quality
    ↓
Progress += 10-40% (dynamic)
    ↓
If < 100%: Wait for SPACE again
If = 100%: Show "Mashallah!" → Auto-advance
```

### Read & Recite Stage
```
Press SPACE
    ↓
[Recording] 🟢
    ↓
User recites while viewing text
    ↓
Recording stops (automatic)
    ↓
System validates quality
    ↓
Progress += 10-40% (dynamic)
    ↓
If < 100%: Wait for SPACE again
If = 100%: Show "Keep it up!" → Auto-advance
```

### Recall from Memory Stage
```
Press SPACE
    ↓
[Recording] 🟡 (Listening...)
    ↓
User says first word
    ↓
First word appears (opacity 0 → 100)
    ↓
User says second word
    ↓
Second word appears
    ↓
Continue until all words revealed
    ↓
System validates completion
    ↓
Progress += 10-40% (dynamic)
    ↓
If < 100%: Wait for SPACE again
If = 100%: Show "Excellent!" → Āyah Mastered!
```

## 📈 Progress Examples

### Fast Learner (Perfect Recitations)
```
Listen & Shadow:
  Attempt 1: Perfect → +40% ━━━━━━━━░░░░░░░░░░░░  40%
  Attempt 2: Perfect → +40% ━━━━━━━━━━━━━━━━░░░░  80%
  Attempt 3: Perfect → +40% ━━━━━━━━━━━━━━━━━━━━ 100% ✓
  → "Mashallah!" → Auto-advance

Read & Recite:
  Attempt 1: Perfect → +40% ━━━━━━━━░░░░░░░░░░░░  40%
  Attempt 2: Good    → +30% ━━━━━━━━━━━━━░░░░░░░  70%
  Attempt 3: Perfect → +40% ━━━━━━━━━━━━━━━━━━━━ 100% ✓
  → "Keep it up!" → Auto-advance

Recall from Memory:
  Attempt 1: Perfect → +40% ━━━━━━━━░░░░░░░░░░░░  40%
  Attempt 2: Perfect → +40% ━━━━━━━━━━━━━━━━░░░░  80%
  Attempt 3: Perfect → +40% ━━━━━━━━━━━━━━━━━━━━ 100% ✓
  → "Excellent!" → MASTERED!

Total: 9 attempts
```

### Average Learner (Mixed Quality)
```
Listen & Shadow:
  Attempt 1: Good → +30% ━━━━━━░░░░░░░░░░░░░░  30%
  Attempt 2: Fair → +20% ━━━━━━━━░░░░░░░░░░░░  50%
  Attempt 3: Good → +30% ━━━━━━━━━━━━░░░░░░░░  80%
  Attempt 4: Good → +30% ━━━━━━━━━━━━━━━━━━━━ 100% ✓

Read & Recite:
  Attempt 1: Fair → +20% ━━━━░░░░░░░░░░░░░░░░  20%
  Attempt 2: Poor → +10% ━━━░░░░░░░░░░░░░░░░░  30%
  Attempt 3: Good → +30% ━━━━━━░░░░░░░░░░░░░░  60%
  Attempt 4: Good → +30% ━━━━━━━━━░░░░░░░░░░░  90%
  Attempt 5: Good → +30% ━━━━━━━━━━━━━━━━━━━━ 100% ✓

Recall from Memory:
  Attempt 1: Fair → +20% ━━━━░░░░░░░░░░░░░░░░  20%
  Attempt 2: Good → +30% ━━━━━━░░░░░░░░░░░░░░  50%
  Attempt 3: Good → +30% ━━━━━━━━░░░░░░░░░░░░  80%
  Attempt 4: Perfect → +40% ━━━━━━━━━━━━━━━━━━ 100% ✓

Total: 13 attempts
```

## 🎯 Spacebar Interactions

```
┌──────────────────────────────────────────────────┐
│  User State        │  Press SPACE  │  Result     │
├──────────────────────────────────────────────────┤
│  Intro page        │  ❌ Disabled  │  -          │
│  Waiting (Listen)  │  ✅ Enabled   │  Play audio │
│  Waiting (Read)    │  ✅ Enabled   │  Start rec  │
│  Waiting (Recall)  │  ✅ Enabled   │  Start rec  │
│  Audio playing     │  ❌ Disabled  │  -          │
│  Recording active  │  ❌ Disabled  │  -          │
│  Encouragement on  │  ❌ Disabled  │  -          │
└──────────────────────────────────────────────────┘
```

## 💫 Encouragement Messages (Random)

```
┌────────────────────────────────────────────┐
│  Mashallah! 🌟                             │
│  You're doing great!                       │
│  Keep it up! 💪                             │
│  You're on a roll!                         │
│  Excellent progress!                       │
│  Beautiful recitation! ✨                   │
└────────────────────────────────────────────┘

Shown for 2 seconds with:
  • Full-screen overlay
  • Backdrop blur
  • Pulse animation
  • Large text (6xl-7xl)
  • Auto-dismiss → Next stage
```

## 🎨 Visual States

### Waiting State
```
┌─────────────────────────────────────┐
│  🟢 Press SPACE to begin             │
│                                     │
│  [Arabic text]                      │
│  [Transliteration]                  │
│                                     │
│  [SPACE] to play & repeat           │
└─────────────────────────────────────┘
```

### Audio Playing
```
┌─────────────────────────────────────┐
│  🔵 Playing recitation...            │
│                                     │
│  [Arabic text]                      │
│  [Transliteration]                  │
│                                     │
│  [⏳ Playing...]                     │
└─────────────────────────────────────┘
```

### Recording
```
┌─────────────────────────────────────┐
│  🟢 Recording your recitation...     │
│                                     │
│  [Arabic text]                      │
│  [Transliteration]                  │
│                                     │
│  Progress: ████████░░░░  40%        │
└─────────────────────────────────────┘
```

### Recall (Words Appearing)
```
┌─────────────────────────────────────┐
│  🟡 Listening... / 🟢 Speaking!      │
│                                     │
│  قُلْ هُوَ [hidden] [hidden]          │
│  (Words fade in as spoken)          │
│                                     │
│  2 / 4 words revealed               │
│  Progress: ████████░░░░  50%        │
└─────────────────────────────────────┘
```

## 🔄 Stage Progression Visual

```
Stage 1 (Listen)    Stage 2 (Read)     Stage 3 (Recall)
     ●                   ○                   ○
  [Listen]            [Wait]              [Wait]
     │
     │ Progress fills...
     ▼
     ●                   ○                   ○
 [100% done]          [Wait]              [Wait]
     │
     │ "Mashallah!" (2s)
     ▼
     ✓                   ●                   ○
  [Complete]          [Read]              [Wait]
                         │
                         │ Progress fills...
                         ▼
     ✓                   ●                   ○
  [Complete]       [100% done]            [Wait]
                         │
                         │ "Keep it up!" (2s)
                         ▼
     ✓                   ✓                   ●
  [Complete]        [Complete]           [Recall]
                                             │
                                             │ Progress fills...
                                             ▼
     ✓                   ✓                   ●
  [Complete]        [Complete]         [100% done]
                                             │
                                             │ "Excellent!" (2s)
                                             ▼
                                    ĀYAH MASTERED! 🎉
                                             │
                                             ▼
                              Return to Āyah Introduction
                                    (Next āyah)
```

## ✨ Key Interaction Points

1. **Intro Flow**: Click buttons or keyboard
2. **Āyah Intro**: Click "Start Learning" or "Skip"
3. **All Learning Stages**: **PRESS SPACE** only!
4. **Encouragements**: Watch and wait (auto-dismiss)
5. **Progress**: Automatic, visual, motivating

## 🎯 Design Philosophy

- **One Key**: Spacebar does everything
- **Automatic**: Flow handles transitions
- **Visual**: Progress always visible
- **Motivating**: Encouragement at milestones
- **Respectful**: Proper pacing for learning
- **Adaptive**: Progress based on quality

---

**Experience**: Smooth, intuitive, and motivating memorization journey! 🌙📖

